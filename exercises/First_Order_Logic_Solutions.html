<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>First-Order Logic: Examples 1-5 Solutions</title>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']]
            }
        };
    </script>
    <style>
        body {
            font-family: 'Georgia', 'Times New Roman', serif;
            line-height: 1.8;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background-color: white;
            padding: 40px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #2c3e50;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
            margin-bottom: 30px;
        }
        h2 {
            color: #34495e;
            margin-top: 40px;
            border-left: 5px solid #3498db;
            padding-left: 15px;
        }
        h3 {
            color: #7f8c8d;
            margin-top: 25px;
        }
        h4 {
            color: #95a5a6;
            margin-top: 20px;
        }
        p {
            margin: 15px 0;
            text-align: justify;
        }
        strong {
            color: #2980b9;
            font-weight: bold;
        }
        ul, ol {
            margin: 15px 0;
            padding-left: 30px;
        }
        li {
            margin: 8px 0;
        }
        .problem {
            background-color: #ecf0f1;
            padding: 20px;
            border-radius: 5px;
            margin: 20px 0;
            border-left: 4px solid #3498db;
        }
        .step {
            background-color: #fff9e6;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
            border-left: 4px solid #f39c12;
        }
        .final-answer {
            background-color: #e8f5e9;
            padding: 20px;
            border-radius: 5px;
            margin: 20px 0;
            border-left: 4px solid #27ae60;
            font-weight: bold;
        }
        hr {
            border: none;
            border-top: 2px solid #bdc3c7;
            margin: 40px 0;
        }
        .summary {
            background-color: #f8f9fa;
            padding: 25px;
            border-radius: 5px;
            margin-top: 30px;
        }
        .summary h2 {
            color: #16a085;
            border-left: 5px solid #16a085;
        }
        code {
            background-color: #ecf0f1;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }
        .checkmark {
            color: #27ae60;
            font-weight: bold;
        }
        @media print {
            body {
                background-color: white;
            }
            .container {
                box-shadow: none;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>First-Order Logic: Examples 1-5 Solutions</h1>
        <h2>From Lecture Slides (Pages 16-22)</h2>
        
        <hr>

        <h2>Example 1: Converting to Prenex Normal Form</h2>
        
        <div class="problem">
            <strong>Problem Statement:</strong>
            <p>Convert the following formula to Prenex Normal Form (PNF):</p>
            <p>$$\exists x \forall y P(x,y) \rightarrow \forall y \exists x Q(x,y)$$</p>
        </div>

        <strong>Step-by-Step Solution:</strong>

        <div class="step">
            <h3>Step 1: Identify the structure</h3>
            <p>The formula has the form: $\phi \rightarrow \psi$ where:</p>
            <ul>
                <li>$\phi = \exists x \forall y P(x,y)$</li>
                <li>$\psi = \forall y \exists x Q(x,y)$</li>
            </ul>
        </div>

        <div class="step">
            <h3>Step 2: Eliminate implications</h3>
            <p>$$\neg(\exists x \forall y P(x,y)) \lor (\forall y \exists x Q(x,y))$$</p>
        </div>

        <div class="step">
            <h3>Step 3: Negate the quantifiers in the left part</h3>
            <p>Using De Morgan's laws: $\neg \exists x \phi(x) \equiv \forall x \neg \phi(x)$</p>
            <p>$$\forall x \neg(\forall y P(x,y)) \lor (\forall y \exists x Q(x,y))$$</p>
            <p>$$\forall x \exists y \neg P(x,y) \lor (\forall y \exists x Q(x,y))$$</p>
        </div>

        <div class="step">
            <h3>Step 4: Rename variables to avoid conflicts</h3>
            <p>Rename $y$ in the second part to $z$:</p>
            <p>$$\forall x \exists y \neg P(x,y) \lor (\forall z \exists x Q(x,z))$$</p>
        </div>

        <div class="step">
            <h3>Step 5: Move quantifiers to the front</h3>
            <p>Apply distributive laws:</p>
            <p>$$\forall x \exists y \forall z \exists x (\neg P(x,y) \lor Q(x,z))$$</p>
        </div>

        <div class="step">
            <h3>Step 6: Rename the second $x$ to avoid conflict</h3>
            <p>$$\forall x \exists y \forall z \exists w (\neg P(x,y) \lor Q(w,z))$$</p>
        </div>

        <div class="final-answer">
            <strong>Final Answer:</strong>
            <p>$$\forall x \exists y \forall z \exists w (\neg P(x,y) \lor Q(w,z))$$</p>
        </div>

        <hr>

        <h2>Example 2: Skolemization</h2>
        
        <div class="problem">
            <strong>Problem Statement:</strong>
            <p>Apply Skolemization to:</p>
            <p>$$\forall x \exists y \forall z \exists w P(x,y,z,w)$$</p>
        </div>

        <strong>Step-by-Step Solution:</strong>

        <div class="step">
            <h3>Step 1: Identify existential quantifiers</h3>
            <p>The existential quantifiers are:</p>
            <ul>
                <li>$\exists y$ (depends on $x$)</li>
                <li>$\exists w$ (depends on $x, z$)</li>
            </ul>
        </div>

        <div class="step">
            <h3>Step 2: Replace with Skolem functions</h3>
            <ul>
                <li>Replace $\exists y$ with a function $f(x)$</li>
                <li>Replace $\exists w$ with a function $g(x,z)$</li>
            </ul>
        </div>

        <div class="step">
            <h3>Step 3: Remove existential quantifiers</h3>
            <p>$$\forall x \forall z P(x, f(x), z, g(x,z))$$</p>
        </div>

        <div class="final-answer">
            <strong>Final Answer:</strong>
            <p>$$\forall x \forall z P(x, f(x), z, g(x,z))$$</p>
            <p>Where $f$ and $g$ are new Skolem functions.</p>
        </div>

        <hr>

        <h2>Example 3: Converting to CNF with Herbrand Base</h2>
        
        <div class="problem">
            <strong>Problem Statement:</strong>
            <p>Convert to CNF and find the Herbrand Universe:</p>
            <p>$$\forall x (\exists y P(x,y) \land \forall z Q(x,z))$$</p>
        </div>

        <strong>Step-by-Step Solution:</strong>

        <h3>Part A: Convert to CNF</h3>

        <div class="step">
            <h4>Step 1: Skolemize</h4>
            <p>Replace $\exists y$ with Skolem function $f(x)$</p>
            <p>$$\forall x (P(x, f(x)) \land \forall z Q(x,z))$$</p>
        </div>

        <div class="step">
            <h4>Step 2: Move universal quantifiers to front</h4>
            <p>$$\forall x \forall z (P(x, f(x)) \land Q(x,z))$$</p>
        </div>

        <div class="step">
            <h4>Step 3: In CNF form (already a conjunction of literals)</h4>
            <p>This is already in CNF as it's a conjunction.</p>
        </div>

        <h3>Part B: Herbrand Universe</h3>

        <div class="step">
            <h4>Step 1: Identify constants and functions</h4>
            <ul>
                <li>Constants: None specified (add a default constant $a$)</li>
                <li>Functions: $f(x)$</li>
            </ul>
        </div>

        <div class="step">
            <h4>Step 2: Build Herbrand Universe</h4>
            <ul>
                <li>Level 0: $H_0 = \{a\}$</li>
                <li>Level 1: $H_1 = \{a, f(a)\}$</li>
                <li>Level 2: $H_2 = \{a, f(a), f(f(a))\}$</li>
                <li>And so on...</li>
            </ul>
        </div>

        <div class="step">
            <h4>Step 3: Herbrand Universe</h4>
            <p>$$H = \{a, f(a), f(f(a)), f(f(f(a))), \ldots\}$$</p>
        </div>

        <h3>Part C: Herbrand Base</h3>

        <div class="step">
            <h4>List all ground atomic formulas possible:</h4>
            <ol>
                <li>$P(a, a)$</li>
                <li>$P(a, f(a))$</li>
                <li>$P(f(a), a)$</li>
                <li>$P(f(a), f(a))$</li>
                <li>$P(f(f(a)), a)$</li>
                <li>$P(f(f(a)), f(a))$</li>
                <li>$Q(a, a)$</li>
                <li>$Q(a, f(a))$</li>
                <li>$Q(f(a), a)$</li>
                <li>$Q(f(a), f(a))$</li>
                <li>... and so on.</li>
            </ol>
        </div>

        <div class="final-answer">
            <strong>Final Answers:</strong>
            <ul>
                <li>CNF: $\forall x \forall z (P(x, f(x)) \land Q(x,z))$</li>
                <li>Herbrand Universe: $H = \{a, f(a), f(f(a)), f(f(f(a))), \ldots\}$</li>
                <li>Herbrand Base: All ground instances of $P$ and $Q$</li>
            </ul>
        </div>

        <hr>

        <h2>Example 4: Resolution in First-Order Logic</h2>
        
        <div class="problem">
            <strong>Problem Statement:</strong>
            <p>Prove using resolution:</p>
            <ul>
                <li>Premises:
                    <ul>
                        <li>$\forall x (Bird(x) \rightarrow Fly(x))$</li>
                        <li>$Bird(Tweety)$</li>
                    </ul>
                </li>
                <li>Conclusion:
                    <ul>
                        <li>$Fly(Tweety)$</li>
                    </ul>
                </li>
            </ul>
        </div>

        <strong>Step-by-Step Solution:</strong>

        <h3>Step 1: Convert to CNF</h3>

        <div class="step">
            <h4>Premise 1: $\forall x (Bird(x) \rightarrow Fly(x))$</h4>
            <p>Eliminate implication:</p>
            <p>$$\forall x (\neg Bird(x) \lor Fly(x))$$</p>
            <p>CNF: $\neg Bird(x) \lor Fly(x)$</p>
        </div>

        <div class="step">
            <h4>Premise 2: $Bird(Tweety)$</h4>
            <p>CNF: $Bird(Tweety)$</p>
        </div>

        <div class="step">
            <h4>Negated Conclusion: $\neg Fly(Tweety)$</h4>
            <p>CNF: $\neg Fly(Tweety)$</p>
        </div>

        <div class="step">
            <h3>Step 2: Create clause set</h3>
            <ul>
                <li>$C_1$: $\neg Bird(x) \lor Fly(x)$</li>
                <li>$C_2$: $Bird(Tweety)$</li>
                <li>$C_3$: $\neg Fly(Tweety)$</li>
            </ul>
        </div>

        <div class="step">
            <h3>Step 3: Apply resolution</h3>
            
            <h4>Resolve $C_1$ and $C_2$:</h4>
            <ul>
                <li>Unify $\neg Bird(x)$ with $Bird(Tweety)$: substitution $\sigma = \{x/Tweety\}$</li>
                <li>Apply substitution: $\neg Bird(Tweety) \lor Fly(Tweety)$</li>
                <li>Resolve with $C_2$: $Fly(Tweety)$</li>
            </ul>

            <h4>Resolve with $C_3$:</h4>
            <ul>
                <li>Resolve $Fly(Tweety)$ with $\neg Fly(Tweety)$</li>
                <li>Result: $\square$ (empty clause - CONTRADICTION)</li>
            </ul>
        </div>

        <div class="step">
            <h3>Step 4: Conclusion</h3>
            <p>Since we derived an empty clause, the original conclusion must be true.</p>
        </div>

        <div class="final-answer">
            <strong>Final Answer:</strong>
            <p>$Fly(Tweety)$ is proven by resolution refutation.</p>
        </div>

        <hr>

        <h2>Example 5: Unification</h2>
        
        <div class="problem">
            <strong>Problem Statement:</strong>
            <p>Find the Most General Unifier (MGU) for:</p>
            <ol>
                <li>$P(x, f(y), z)$ and $P(a, f(b), a)$</li>
                <li>$Q(f(x), y)$ and $Q(y, f(a))$</li>
            </ol>
        </div>

        <strong>Step-by-Step Solution:</strong>

        <h3>Part A: Unify $P(x, f(y), z)$ and $P(a, f(b), a)$</h3>

        <div class="step">
            <h4>Step 1: Check arity</h4>
            <p>Both have 3 arguments - proceed.</p>
        </div>

        <div class="step">
            <h4>Step 2: Apply unification algorithm</h4>
            
            <p>Initialize: $\sigma = \{\}$</p>
            
            <p>Process each position:</p>
            
            <ol>
                <li>Position 1: $x$ and $a$
                    <ul>
                        <li>Variable $x$ can bind to $a$</li>
                        <li>$\sigma = \{x/a\}$</li>
                    </ul>
                </li>
                <li>Position 2: $f(y)$ and $f(b)$
                    <ul>
                        <li>Both are functions with same name</li>
                        <li>Unify arguments: $y$ and $b$</li>
                        <li>$\sigma = \{x/a, y/b\}$</li>
                    </ul>
                </li>
                <li>Position 3: $z$ and $a$
                    <ul>
                        <li>Variable $z$ can bind to $a$</li>
                        <li>$\sigma = \{x/a, y/b, z/a\}$</li>
                    </ul>
                </li>
            </ol>
            
            <p>Apply substitution to check:</p>
            <ul>
                <li>$P(x, f(y), z)\sigma = P(a, f(b), a)$ <span class="checkmark">✓</span></li>
                <li>$P(a, f(b), a)\sigma = P(a, f(b), a)$ <span class="checkmark">✓</span></li>
            </ul>
        </div>

        <div class="final-answer">
            <strong>MGU for Part A:</strong> $\{x/a, y/b, z/a\}$
        </div>

        <h3>Part B: Unify $Q(f(x), y)$ and $Q(y, f(a))$</h3>

        <div class="step">
            <h4>Step 1: Check arity</h4>
            <p>Both have 2 arguments - proceed.</p>
        </div>

        <div class="step">
            <h4>Step 2: Apply unification algorithm</h4>
            
            <p>Initialize: $\sigma = \{\}$</p>
            
            <p>Process each position:</p>
            
            <ol>
                <li>Position 1: $f(x)$ and $y$
                    <ul>
                        <li>Variable $y$ occurs in both (check occurs check)</li>
                        <li>$y = f(x)$ is acceptable</li>
                        <li>$\sigma = \{y/f(x)\}$</li>
                    </ul>
                </li>
                <li>Position 2: $y\sigma = f(x)$ and $f(a)$
                    <ul>
                        <li>Both are functions with same name</li>
                        <li>Unify arguments: $x$ and $a$</li>
                        <li>$\sigma = \{y/f(x), x/a\}$</li>
                    </ul>
                </li>
            </ol>
            
            <p>Apply substitution to check:</p>
            <ul>
                <li>$Q(f(x), y)\sigma = Q(f(a), f(a))$ <span class="checkmark">✓</span></li>
                <li>$Q(y, f(a))\sigma = Q(f(a), f(a))$ <span class="checkmark">✓</span></li>
            </ul>
        </div>

        <div class="final-answer">
            <strong>MGU for Part B:</strong> $\{x/a, y/f(a)\}$
        </div>

        <div class="step">
            <h3>Part C: Note on occurs check</h3>
            <p>In Part B, we had $y = f(x)$. This is valid because:</p>
            <ul>
                <li>$y$ doesn't occur in $f(x)$ itself (no circular binding)</li>
                <li>If we had attempted to unify $x$ with $f(x)$, it would fail the occurs check</li>
            </ul>
        </div>

        <div class="final-answer">
            <strong>Final Answers:</strong>
            <ol>
                <li>MGU: $\{x/a, y/b, z/a\}$</li>
                <li>MGU: $\{x/a, y/f(a)\}$</li>
            </ol>
        </div>

        <hr>

        <div class="summary">
            <h2>Summary of Key Concepts</h2>
            
            <h3>1. Prenex Normal Form (PNF)</h3>
            <ul>
                <li>All quantifiers are at the beginning</li>
                <li>Scope extends to the end of formula</li>
                <li>No quantifiers in the body</li>
            </ul>

            <h3>2. Skolemization</h3>
            <ul>
                <li>Replace $\exists x$ with a Skolem function depending on preceding universals</li>
                <li>Ensure satisfiability is preserved</li>
            </ul>

            <h3>3. Herbrand Universe</h3>
            <ul>
                <li>Set of all ground terms</li>
                <li>Built from constants and function symbols</li>
                <li>Infinite if functions exist</li>
            </ul>

            <h3>4. Resolution</h3>
            <ul>
                <li>Unify complementary literals</li>
                <li>Resolve to produce new clauses</li>
                <li>Empty clause (□) means contradiction</li>
            </ul>

            <h3>5. Unification</h3>
            <ul>
                <li>Find substitution making two terms identical</li>
                <li>MGU is most general</li>
                <li>Check occurs condition to avoid circular bindings</li>
            </ul>
        </div>

        <hr>

        <p><em>Generated for First-Order Logic Lecture - Week 11</em></p>
    </div>
</body>
</html>

